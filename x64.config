CONFIG_TARGET_x86=y
CONFIG_TARGET_x86_64=y
CONFIG_TARGET_ROOTFS_TARGZ=y

# 文件系统支持
CONFIG_TARGET_ROOTFS_EXT4FS=y
CONFIG_TARGET_EXT4_RESERVED_PCT=0
CONFIG_TARGET_EXT4_BLOCKSIZE_4K=y
# CONFIG_TARGET_EXT4_BLOCKSIZE_2K is not set
# CONFIG_TARGET_EXT4_BLOCKSIZE_1K is not set
CONFIG_TARGET_EXT4_BLOCKSIZE=4096
# CONFIG_TARGET_EXT4_JOURNAL is not set
CONFIG_TARGET_ROOTFS_SQUASHFS=y
CONFIG_TARGET_SQUASHFS_BLOCK_SIZE=256
CONFIG_TARGET_UBIFS_FREE_SPACE_FIXUP=y
CONFIG_TARGET_UBIFS_JOURNAL_SIZE=""

# EFI和GRUB支持
CONFIG_GRUB_IMAGES=y
CONFIG_GRUB_EFI_IMAGES=y
CONFIG_GRUB_CONSOLE=y
CONFIG_GRUB_BAUDRATE=115200
# CONFIG_GRUB_FLOWCONTROL is not set
CONFIG_GRUB_BOOTOPTS=""
CONFIG_GRUB_TIMEOUT="0"
CONFIG_GRUB_TITLE="LEDE"

# 虚拟化镜像格式
# CONFIG_ISO_IMAGES is not set
CONFIG_QCOW2_IMAGES=y
CONFIG_VDI_IMAGES=y
CONFIG_VMDK_IMAGES=y
CONFIG_VHDX_IMAGES=y

# 串口和压缩
CONFIG_TARGET_SERIAL="ttyS0"
CONFIG_TARGET_IMAGES_GZIP=y

CONFIG_PACKAGE_kmod-pcie_mhi=m

# 编译工具链
CONFIG_TOOLCHAIN_USE_CLANG=y
CONFIG_TOOLCHAIN_USE_LLD=y

# DAE
CONFIG_KERNEL_DEBUG_INFO=y
CONFIG_KERNEL_DEBUG_INFO_REDUCED=n
CONFIG_KERNEL_DEBUG_INFO_BTF=y
CONFIG_KERNEL_CGROUPS=y
CONFIG_KERNEL_CGROUP_BPF=y
CONFIG_KERNEL_BPF_EVENTS=y
CONFIG_BPF_TOOLCHAIN_HOST=y
CONFIG_KERNEL_XDP_SOCKETS=y

# LuCI 插件
CONFIG_PACKAGE_luci-app-zerotier=y
CONFIG_PACKAGE_luci-app-wrtbwmon=y
CONFIG_PACKAGE_luci-app-wol=y
CONFIG_PACKAGE_luci-app-wireguard=y
CONFIG_PACKAGE_luci-app-watchcat=y
CONFIG_PACKAGE_luci-app-arpbind=y
CONFIG_PACKAGE_luci-app-autoreboot=y
CONFIG_PACKAGE_luci-app-filetransfer=y
CONFIG_PACKAGE_luci-app-firewall=y
CONFIG_PACKAGE_luci-app-frpc=y
CONFIG_PACKAGE_luci-app-mwan3=y
CONFIG_PACKAGE_luci-app-mwan3helper=y
CONFIG_PACKAGE_luci-app-nlbwmon=y
CONFIG_PACKAGE_luci-app-ramfree=y
CONFIG_PACKAGE_luci-app-turboacc=y
CONFIG_PACKAGE_luci-app-turboacc_INCLUDE_SHORTCUT_FE_CM=y
CONFIG_PACKAGE_luci-app-turboacc_INCLUDE_BBR_CCA=y
CONFIG_PACKAGE_luci-app-turboacc_INCLUDE_PDNSD=y
CONFIG_PACKAGE_luci-app-vlmcsd=y
CONFIG_PACKAGE_luci-app-argon-config=y
CONFIG_PACKAGE_luci-app-openclash=y
CONFIG_PACKAGE_luci-theme-argon=y
CONFIG_PACKAGE_luci-theme-bootstrap=y

# 禁用不需要的插件（避免依赖问题）
# CONFIG_PACKAGE_luci-app-ssr-plus is not set
# CONFIG_PACKAGE_luci-i18n-ssr-plus-zh-cn is not set
# CONFIG_PACKAGE_luci-app-bypass is not set
# CONFIG_PACKAGE_smartdns is not set

# LuCI 插件依赖包
CONFIG_PACKAGE_zerotier=y
CONFIG_PACKAGE_wireguard-tools=y
CONFIG_PACKAGE_wireguard-kmod=y
CONFIG_PACKAGE_frpc=y
CONFIG_PACKAGE_vlmcsd=y
CONFIG_PACKAGE_wol=y
CONFIG_PACKAGE_watchcat=y
CONFIG_PACKAGE_mwan3=y
CONFIG_PACKAGE_nlbwmon=y
CONFIG_PACKAGE_wrtbwmon=y

# OpenClash 依赖包
CONFIG_PACKAGE_dnsmasq-full=y
CONFIG_PACKAGE_dnsmasq_full_dhcpv6=y
CONFIG_PACKAGE_bash=y
CONFIG_PACKAGE_curl=y
#CA 证书包
CONFIG_PACKAGE_ca-bundle=y
CONFIG_PACKAGE_ipset=y
CONFIG_PACKAGE_ip-full=y
CONFIG_PACKAGE_ruby=y
CONFIG_PACKAGE_ruby-yaml=y
CONFIG_PACKAGE_unzip=y
CONFIG_PACKAGE_iptables=y
# 透明代理模块
CONFIG_PACKAGE_iptables-mod-tproxy=y
# 额外 iptables 模块
CONFIG_PACKAGE_iptables-mod-extra=y
# TUN/TAP 设备支持（TUN 模式必需）
CONFIG_PACKAGE_kmod-tun=y
# NAT 支持
CONFIG_PACKAGE_kmod-ipt-nat=y
CONFIG_PACKAGE_ip6tables-mod-nat=y
# 进程名称匹配支持
CONFIG_PACKAGE_kmod-inet-diag=y
# Firewall4 透明代理支持
CONFIG_PACKAGE_kmod-nft-tproxy=y